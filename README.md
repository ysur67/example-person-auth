# Тестовое задание
Разработать отказоустойчивый мини сервис, который принимает POST запросы в формате JSON с данными о пользователях и создаёт их в БД postgres(например/useradd).

У пользователя обязательно должен быть указан либо телефон либо почта. Может быть и телефон и почта одновременно. <br>
В ответ на успешное создание пользователя должен приходить логин и пароль или ошибка с описанием отклонения запроса.

- При входе по логину и паролю заведённого пользователя, отображать статистику по успешным или не успешным запросам в сервис /useradd со статусами операций и ошибками.
- Сделать выгрузку статистики в txt и xls\xlsx

## Установка

Скопируйте репозиторий<br>
Создайте окружение и установите зависимости<br>
Создайте БД Postgres

Перейдите в основную папку проекта, та директория, что содержит файл `manage.py`. В данной директории создайте файл .env, скопируйте содержимое из .env.template и наполните его необходимыми значениями

Запустите миграции
```
python manage.py migrate
```
Запустите встроенный сервер Django
```
python manage.py runserver
```

## Использование
- https://example.com/swagger/ - Документация
- https://exmaple.com/admin/ - Административная панель Django

Создайте суперпользователя для доступа в административную панель
```
python manage.py createsuperuser
```
### Создание пользователей
Отправьте POST запрос по адресу https://example.com/api/v1/useradd/ <br>
Запрос должен содержать следующие поля:
- name - Имя пользователя, обязательное поле
- username - Логин пользователя, обязательное поле
- phone - Телефон пользователя, условно обязательное поле
- email - Почтовый адрес пользователя, условно обязательное поле
- birth_date - Дата рождения пользоватя, необязательное поле

Поля `phone`, `email` отмечены, как условно обязательные, так как у пользователя обязательно должен быть указан либо телефон либо почта. Может быть и телефон и почта одновременно.

Каждый запрос на создание пользователя сохраняется в БД.
При успешном выполнении запроса в ответ сервер передаст его логин и пароль, которые в дальнейшем можно использовать для авторизации в системе

### Статистика запросов
Перейдите по адресу https://example.com/login/ и авторизуйтесь по полученным данным. После успешной авторизации вы попадете на страницу статистики запросов.

### Получение выгрузки в форматах .txt/.xlsx
Перейдите на старницу https://example.com/results/ <br>
На этой странице вы найдете две ссылки для получения файлов выгрузки.
